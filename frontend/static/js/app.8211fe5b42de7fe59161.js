webpackJsonp([1],{"+uGs":function(e,t,a){e.exports=a.p+"static/img/bg1.e7bed1e.jpg"},At5X:function(e,t){},DAoe:function(e,t){},GesX:function(e,t){},"J/Zq":function(e,t,a){e.exports=a.p+"static/img/bg4.e3176af.jpg"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),i={data:function(){return{imgs:[{url:a("J/Zq"),link:"/"},{url:a("+uGs"),link:"/ticket"},{url:a("QRDL"),link:"/hotel"},{url:a("fZ2Q"),link:"/schedule"},{url:a("bpdl"),link:"/discount"}]}},methods:{linkTo:function(){var e=this.$refs.carousel.activeIndex;this.$router.push({path:this.imgs[e].link})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-carousel",{ref:"carousel",staticClass:"scrollBar",attrs:{height:"100"},nativeOn:{click:function(t){return e.linkTo(t)}}},e._l(e.imgs,function(e){return a("el-carousel-item",{key:e.url,staticClass:"lun_img"},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.url}})])}),1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(e){a("At5X")},null,null).exports,o={name:"app",components:{scrollbar:s}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=a("VU/8")(o,l,!1,function(e){a("RhZI")},"data-v-18fca0de",null).exports,d=a("/ocq"),u={name:"index",components:{scrBar:s},data:function(){return{show:!1,vedioCanPlay:!1,fixStyle:""}},methods:{showchange:function(){this.show=!this.show},changebar:function(){NavBar.activeIndex="1",NavBar.activeIndex2="1"}},mounted:function(){this.showchange()}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"index"},[t("transition",{attrs:{name:"el-fade-in-linear"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}]},[t("h1",{staticClass:"scroll"},[this._v("  ")]),this._v(" "),t("h1",{staticClass:"scroll"},[this._v("  ")]),this._v(" "),t("h1",{staticClass:"scroll"},[this._v("  ")]),this._v(" "),t("scrBar")],1)])],1)},staticRenderFns:[]};var p=a("VU/8")(u,m,!1,function(e){a("t0yH")},"data-v-cbf81086",null).exports,h={props:{activeIndex:{default:"0"},activeIndex2:{default:"0"}},methods:{handleSelect:function(e,t){console.log(e,t)}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"NavBar",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"0"}},[a("router-link",{attrs:{to:"/"}},[e._v("首页")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"1"}},[a("router-link",{attrs:{to:"/ticket"}},[e._v("火车票&机票")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("router-link",{attrs:{to:"/hotel"}},[e._v("酒店查询")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3"}},[a("router-link",{attrs:{to:"/schedule"}},[e._v("行程推荐")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"4"}},[a("router-link",{attrs:{to:"/discount"}},[e._v("优惠搜索")])],1)],1)},staticRenderFns:[]};var v={name:"ticketSearch",components:{scrBar:s,navbar:a("VU/8")(h,f,!1,function(e){a("bKjg")},"data-v-b78b73d2",null).exports},methods:{showTrains:function(e){console.log("changed!"),2==e?(this.ruleForm.isSeen=!0,this.rules.type.required=!0):(this.ruleForm.isSeen=!1,this.ruleForm.type=[])},submitForm:function(){console.log(this.ruleForm),this.$router.push({name:"tickets",query:{departure:this.ruleForm.departure,destination:this.ruleForm.destination,date1:String(this.ruleForm.date1),date2:String(this.ruleForm.date2),radio:this.ruleForm.radio,type:this.ruleForm.type}})},resetForm:function(e){this.$refs[e].resetFields()},showchange:function(){this.show=!this.show}},mounted:function(){this.showchange()},data:function(){return{show:!1,pickeroptions:{disabledDate:function(e){return e.getTime()<(new Date).getTime()}},ruleForm:{departure:"",destination:"",date1:"",date2:"",radio:1,type:[],isSeen:!1},rules:{departure:[{required:!0,message:"请输入出发地",trigger:"blur"}],destination:[{required:!0,message:"请输入目的地",trigger:"blur"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!1,message:"请选择日期",trigger:"change"}],type:[{type:"array",required:!1,message:"请至少选择一种类型",trigger:"change"}]}}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ticketSearch"},[a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{id:"building"}},[a("navbar",{attrs:{activeIndex:1,activeIndex2:1}}),e._v(" "),a("el-card",{staticClass:"searchBar"},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:10,offset:1}},[a("el-form-item",{attrs:{label:"出发地",prop:"departure"}},[a("el-input",{model:{value:e.ruleForm.departure,callback:function(t){e.$set(e.ruleForm,"departure",t)},expression:"ruleForm.departure"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-form-item",{attrs:{label:"目的地",prop:"destination"}},[a("el-input",{model:{value:e.ruleForm.destination,callback:function(t){e.$set(e.ruleForm,"destination",t)},expression:"ruleForm.destination"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10,offset:1}},[a("el-form-item",{attrs:{label:"出发日期",prop:"date1"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickeroptions},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"返回日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickeroptions},model:{value:e.ruleForm.date2,callback:function(t){e.$set(e.ruleForm,"date2",t)},expression:"ruleForm.date2"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22,offset:1}},[a("el-form-item",{attrs:{label:"筛选类型"}},[a("el-row",[a("el-radio-group",{on:{change:e.showTrains},model:{value:e.ruleForm.radio,callback:function(t){e.$set(e.ruleForm,"radio",t)},expression:"ruleForm.radio"}},[a("el-radio",{attrs:{label:1}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("火车")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("飞机")])],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{prop:"type"}},[a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.isSeen,expression:"ruleForm.isSeen"}],model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"G-高铁",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"D-动车",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"Z-直达",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"T-特快",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"K-快速",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"其他",name:"type"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("搜索")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var y=a("VU/8")(v,g,!1,function(e){a("jGdw")},"data-v-2298e844",null).exports,_={components:{scrBar:s},data:function(){return{}},methods:{}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hotelSearch"},[this._v("\n    暂无酒店页面！\n    "),t("scrBar")],1)},staticRenderFns:[]};var C=a("VU/8")(_,b,!1,function(e){a("T0C1")},"data-v-d2060590",null).exports,x={components:{scrBar:s},data:function(){return{activeIndex:"1",activeIndex2:"1"}},methods:{handleSelect:function(e,t){console.log(e,t)}}},k={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"schedule"},[this._v("\n    暂无行程页面！\n")])},staticRenderFns:[]};var w=a("VU/8")(x,k,!1,function(e){a("GesX")},"data-v-c166cbc6",null).exports,F={components:{scrBar:s}},T={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"discount"},[this._v("\n    暂无优惠页面！\n")])},staticRenderFns:[]};var D=a("VU/8")(F,T,!1,function(e){a("UHtx")},"data-v-46c6ee6a",null).exports,N={props:{company:{default:"东方航空"},flightID:{default:"12345"},dCityName:{default:"始发地"},aCityName:{default:"目的地"},dTime:{default:"出发时间"},aTime:{default:"到达时间"},cabin:{default:"经济舱"},price:{default:800},link:{default:"链接"}},methods:{jump:function(){window.open(link)}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flightTicket"},[a("a",{attrs:{href:e.link}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"},nativeOn:{click:function(t){return e.jump()}}},[a("div",{staticClass:"text item"},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"comp"},[e._v(e._s(e.company+"-"+e.flightID))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"station"},[e._v(e._s(e.dCityName+"——"+e.aCityName))])]),e._v(" "),a("el-col",{attrs:{span:9}},[a("span",{staticClass:"time"},[e._v(e._s(e.dTime.toLocaleString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")+"——"+e.aTime.toLocaleString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")))])]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v("¥\n        "),a("span",{staticClass:"pri"},[e._v(e._s(e.price))]),e._v("元起\n      ")])],1)])],1)])},staticRenderFns:[]};var I={components:{flight:a("VU/8")(N,B,!1,function(e){a("fhWn")},"data-v-3e4eb7a2",null).exports,scrBar:s},data:function(){return{intr:{company:"",flightID:"",dCityName:"",aCityName:"",dTime:"",aTime:"",cabin:"经济舱",price:0,link:""},intros:[],params:{departure:"",destination:"",date1:"",date2:"",radio:1,type:[]}}},methods:{onSubmitGet:function(){var e=this;this.$axios({method:"post",url:"http://127.0.0.1:8000/api/allcompany",data:{departure:this.params.departure,destination:this.params.destination,goDate:this.params.date1,backDate:this.params.date2,trainOrPlane:this.params.radio,trainType:this.params.type}}).then(function(t){e.intros=t.data.data}).catch(function(e){alert("出错了！")})}},mounted:function(){this.params.departure=this.$route.query.departure,this.params.destination=this.$route.query.destination,this.params.date1=this.$route.query.date1,this.params.date2=this.$route.query.date2,this.params.radio=this.$route.query.radio,this.params.type=this.$route.query.type,console.log(this.params),this.onSubmitGet()}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tickets"},[a("scrBar"),e._v(" "),a("el-col",{attrs:{span:20,offset:1}},[a("h1",[a("span",[e._v(e._s(" “"+e.params.departure+"” 到 “"+e.params.destination+"”的搜索结果："))])]),e._v(" "),a("ul",[a("li",{staticClass:"list"},e._l(e.intros,function(e){return a("flight",{key:e.flightID,attrs:{company:e.company,flightID:e.flightID,dCityName:e.dCityName,aCityName:e.aCityName,dTime:e.dTime,aTime:e.aTime,cabin:e.cabin,price:e.price,link:e.tzurl}})}),1)])])],1)},staticRenderFns:[]};var A=a("VU/8")(I,$,!1,function(e){a("DAoe")},"data-v-48309849",null).exports;r.default.use(d.a);var S=new d.a({routes:[{path:"/",name:"index",component:p},{path:"/ticket",name:"ticketSearch",component:y},{path:"/hotel",name:"hotelSearch",component:C},{path:"/schedule",name:"schedule",component:w},{path:"/discount",name:"discount",component:D},{path:"/ticket/ticketResult",name:"tickets",component:A}]}),M=a("zL8q"),q=a.n(M),U=(a("tvR6"),a("txPn"),a("mtWM")),j=a.n(U);a("qQ52");r.default.prototype.$axios=j.a,r.default.config.productionTip=!1,r.default.use(q.a),new r.default({el:"#app",router:S,components:{App:c},template:"<App/>"}).$mount("#app")},QRDL:function(e,t,a){e.exports=a.p+"static/img/bg2.67b0936.jpg"},RhZI:function(e,t){},T0C1:function(e,t){},UHtx:function(e,t){},bKjg:function(e,t){},bpdl:function(e,t,a){e.exports=a.p+"static/img/bg3.c7c27cd.jpg"},fZ2Q:function(e,t,a){e.exports=a.p+"static/img/bg5.ee15290.jpg"},fhWn:function(e,t){},jGdw:function(e,t){},qQ52:function(e,t){},t0yH:function(e,t){},tvR6:function(e,t){},txPn:function(e,t,a){var r=a("zNUS");r.Random;r.mock("api/tickets",function(e){return{data:[{company:"厦门航空",flightID:"MF8490",dCityName:"成都双流",aCityName:"厦门高崎",date:"2021-05-14",dTime:"2021-05-14T06:35:00",aTime:"2021-05-14T09:20:00",cabin:"Economy",price:980,tzurl:"https://www.xiamenair.com/zh-cn/nticket.html?tripType=OW&orgCodeArr%5B0%5D=CTU&dstCodeArr%5B0%5D=XMN&orgDateArr%5B0%5D=2021-05-14&dstDate=&isInter=false&adtNum=1&chdNum=0&JFCabinFirst=false&acntCd=&mode=Money&partner=false&jcgm=false"},{company:"厦门航空",flightID:"MF5279",dCityName:"成都双流",aCityName:"厦门高崎",date:"2021-05-14",dTime:"2021-05-14T08:05:00",aTime:"2021-05-14T10:55:00",cabin:"Economy",price:1270,tzurl:"https://www.xiamenair.com/zh-cn/nticket.html?tripType=OW&orgCodeArr%5B0%5D=CTU&dstCodeArr%5B0%5D=XMN&orgDateArr%5B0%5D=2021-05-14&dstDate=&isInter=false&adtNum=1&chdNum=0&JFCabinFirst=false&acntCd=&mode=Money&partner=false&jcgm=false"},{company:"厦门航空",flightID:"MF8402",dCityName:"成都双流",aCityName:"厦门高崎",date:"2021-05-14",dTime:"2021-05-14T11:40:00",aTime:"2021-05-14T14:20:00",cabin:"Economy",price:1270,tzurl:"https://www.xiamenair.com/zh-cn/nticket.html?tripType=OW&orgCodeArr%5B0%5D=CTU&dstCodeArr%5B0%5D=XMN&orgDateArr%5B0%5D=2021-05-14&dstDate=&isInter=false&adtNum=1&chdNum=0&JFCabinFirst=false&acntCd=&mode=Money&partner=false&jcgm=false"},{company:"厦门航空",flightID:"MF5295",dCityName:"成都双流",aCityName:"厦门高崎",date:"2021-05-14",dTime:"2021-05-14T13:35:00",aTime:"2021-05-14T16:25:00",cabin:"Economy",price:1270,tzurl:"https://www.xiamenair.com/zh-cn/nticket.html?tripType=OW&orgCodeArr%5B0%5D=CTU&dstCodeArr%5B0%5D=XMN&orgDateArr%5B0%5D=2021-05-14&dstDate=&isInter=false&adtNum=1&chdNum=0&JFCabinFirst=false&acntCd=&mode=Money&partner=false&jcgm=false"},{company:"厦门航空",flightID:"MF5299",dCityName:"成都双流",aCityName:"厦门高崎",date:"2021-05-14",dTime:"2021-05-14T13:55:00",aTime:"2021-05-14T18:25:00",cabin:"Economy",price:1500,tzurl:"https://www.xiamenair.com/zh-cn/nticket.html?tripType=OW&orgCodeArr%5B0%5D=CTU&dstCodeArr%5B0%5D=XMN&orgDateArr%5B0%5D=2021-05-14&dstDate=&isInter=false&adtNum=1&chdNum=0&JFCabinFirst=false&acntCd=&mode=Money&partner=false&jcgm=false"},{company:"厦门航空",flightID:"MF8442",dCityName:"成都双流",aCityName:"厦门高崎",date:"2021-05-14",dTime:"2021-05-14T15:15:00",aTime:"2021-05-14T17:55:00",cabin:"Economy",price:1160,tzurl:"https://www.xiamenair.com/zh-cn/nticket.html?tripType=OW&orgCodeArr%5B0%5D=CTU&dstCodeArr%5B0%5D=XMN&orgDateArr%5B0%5D=2021-05-14&dstDate=&isInter=false&adtNum=1&chdNum=0&JFCabinFirst=false&acntCd=&mode=Money&partner=false&jcgm=false"}]}}),r.setup({timeout:"200-600"})}},["NHnr"]);
//# sourceMappingURL=app.8211fe5b42de7fe59161.js.map